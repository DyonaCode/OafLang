flux n = 30000;
flux i = 1;
flux checksum = 0;

loop i <= n => {
    flux a = (i * 37) + 17;
    flux b = (i * 53) + 19;

    loop b != 0 => {
        flux t = a % b;
        a = b;
        b = t;
    }

    checksum += a * ((i % 16) + 1);
    i += 1;
}

return checksum;
